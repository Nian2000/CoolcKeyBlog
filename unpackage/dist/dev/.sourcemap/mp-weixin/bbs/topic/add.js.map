{"version":3,"sources":["uni-app:///main.js","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?100a","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?3e2f","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?e8d6","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?0907","uni-app:///bbs/topic/add.vue","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?3069","webpack:////Users/imac/Nextcloud2/webproject/bishe/小型个人博客模板（移动端）/bbs/topic/add.vue?b5f0"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,uF;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAg1B,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgDp2B,qF;AACA;AACA;AACA,sBADA;AAEA,sBAFA,EADA;;AAKA;AACA;AACA,kBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,oBAJA;AAKA,mBALA;AAMA,mBANA;;AAQA,GAdA;AAeA;AACA;AACA,GAjBA;AAkBA;AACA;AACA,kCADA,CACA;AACA;AACA;AACA,oBADA;AAEA,6EAFA;AAGA,sBAHA;;AAKA,KATA;AAUA;AACA;AACA,KAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtBA;AAuBA;AACA;AACA,KAzBA;AA0BA;AACA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wDADA,CACA;AACA;AACA;AACA;AACA,oCADA,CACA;AACA;AACA,SAJA;AAKA,6BARA,CAQA;AACA;;AAEA;AACA,kBADA,CACA;AACA,yBADA;AAEA;AACA,6BADA;AAEA,wBAFA,EAFA,EADA;;;AAQA,UARA,CAQA;AACA;AACA,uBADA;;AAGA;AACA,mCADA;;AAGA,OAfA;AAgBA,WAhBA,CAgBA;AACA;AACA,OAlBA;AAmBA,KAzEA,EAlBA,E;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAA6iD,CAAgB,m5CAAG,EAAC,C;;;;;;;;;;;ACAjkD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"bbs/topic/add.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './bbs/topic/add.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./add.vue?vue&type=template&id=531127c7&scoped=true&\"\nvar renderjs\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=531127c7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"531127c7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"bbs/topic/add.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=531127c7&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-gradual-blue\"><block slot=\"content\">发布商品</block></cu-custom>\r\n\r\n\t\t<un-login v-if=\"unLogin\"></un-login>\r\n\r\n\t\t<form v-else @submit=\"formSubmit\">\r\n\t\t\t<view class=\"cu-form-group align-start\">\r\n\t\t\t\t<view class=\"title\">名称</view>\r\n\t\t\t\t<textarea name=\"title\" maxlength=\"-1\" placeholder=\"给商品起一个响亮点的名字!\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group align-start\">\r\n\t\t\t\t<view class=\"title\">价格</view>\r\n\t\t\t\t<input name=\"price\" class=\"input\" type=\"number\" placeholder=\"您要卖多少大洋呢？\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group align-start\">\r\n\t\t\t\t<view class=\"title\">加密</view>\r\n\t\t\t\t<textarea name=\"hide\" maxlength=\"-1\" placeholder=\"付费后才可以查看的内容\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group align-start\">\r\n\t\t\t\t<view class=\"title\">简介</view>\r\n\t\t\t\t<textarea name=\"content\" maxlength=\"-1\" placeholder=\"不用付费直接白嫖的内容\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group align-start\" v-show=\"isCode\">\r\n\t\t\t\t<view class=\"title\">卡密</view>\r\n\t\t\t\t<textarea v-model=\"codeString\" maxlength=\"-1\" placeholder=\"请输入卡密,一行一条\" v-on:input=\"codeInput\"></textarea>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"cu-form-group text-right text-sm\">\r\n\t\t\t\t<view class=\"\" v-show=\"isCode\">已经输入卡密：{{ codeHeight }}条</view>\r\n\t\t\t\t<view class=\"hide\">\r\n\t\t\t\t\t<text style=\"margin-right: 10rpx;\">销售卡密</text>\r\n\t\t\t\t\t<switch name=\"isCode\" @change=\"hideToast\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bg-white\">\r\n\t\t\t\t<upimg-box @callParent=\"callImgList\" :defaultImgsList=\"[]\"></upimg-box>\r\n\t\t\t\t<view class=\"padding flex flex-direction\"><button class=\"cu-btn bg-blue shadow lg\" form-type=\"submit\">发布</button></view>\r\n\t\t\t</view>\r\n\t\t</form>\r\n\r\n\t\t<mt-footer></mt-footer>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport upimgBox from '@/components/upimgbox.vue';\r\nimport mtFooter from '@/components/footer.vue';\r\nimport mdate from '@/common/date.js';\r\nexport default {\r\n\tcomponents: {\r\n\t\tmtFooter,\r\n\t\tupimgBox\r\n\t},\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\timgsList: [],\r\n\t\t\tunLogin: true,\r\n\t\t\tssuserid: '',\r\n\t\t\tcodeString: '',\r\n\t\t\tcodeHeight: 0,\r\n\t\t\tisCode: false\r\n\t\t};\r\n\t},\r\n\tonLoad: function() {\r\n\t\tthis.getPage();\r\n\t},\r\n\tmethods: {\r\n\t\thideToast: function(e) {\r\n\t\t\tlet isTrue = e.detail.value; //是否销售卡密\r\n\t\t\tthis.isCode = isTrue;\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: isTrue ? '您可以先少量的添加卡密，当库存不足后后可在“我的商品”中补充库存' : '请将要销售的内容输入在加密中',\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\t},\r\n\t\tcodeInput: function() {\r\n\t\t\tthis.codeHeight = this.codeString.replace(/[^\\n]/gm, '').length + 1;\r\n\t\t},\r\n\t\tgetPage: function() {\r\n\t\t\t//start 检测登录\r\n\t\t\tthis.ssuserid = getApp().globalData.ssuserid;\r\n\t\t\t// console.log(getApp().globalData)\r\n\t\t\tthis.unLogin = getApp().globalData.unLogin;\r\n\t\t\tif (this.ssuserid == '') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t//End 检测是否登录\r\n\t\t},\r\n\t\tcallImgList: function(e) {\r\n\t\t\tthis.imgsList = e;\r\n\t\t},\r\n\t\tformSubmit: function(e) {\r\n\t\t\tvar params = e.detail.value;\r\n\t\t\tif (params.title == '' || params.content == '' || this.imgsList.length == 0 || params.hide == '' || params.price < 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '标题、内容、价格、加密 必填，图片至少上传一张！',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tparams.createTime = new Date().Format('yyyy-MM-dd hh:mm:ss');\r\n\t\t\tparams.imgList = this.imgsList;\r\n\t\t\tparams.userid = this.ssuserid;\r\n\t\t\tparams.love_num = 0;\r\n\t\t\tparams.view_num = 1;\r\n\t\t\tparams.comment_num = 0;\r\n\t\t\tparams.status = 0;\n\t\t\t\r\n\t\t\tif (this.codeString != null && this.isCode == true) {\r\n\t\t\t\tvar snsArr = this.codeString.split(/[(\\n)\\n]+/); //如果卡密不是空的，则进行分割并清除空行\n\t\t\t\tconsole.log(snsArr)\r\n\t\t\t\tsnsArr.forEach((item, index) => {\r\n\t\t\t\t\tif (!item) {\r\n\t\t\t\t\t\tsnsArr.splice(index, 1); //删除空项\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tparams.code = snsArr; //赋值所有卡密数组\r\n\t\t\t}\n\r\n\t\t\tuniCloud\r\n\t\t\t\t.callFunction({\r\n\t\t\t\t\tname: 'bbs_topic',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcloudAction: 'save',\r\n\t\t\t\t\t\tparams: params\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '发布成功'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.input {\r\n\tmargin-top: 26rpx;\r\n}\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&id=531127c7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&id=531127c7&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600413697817\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}